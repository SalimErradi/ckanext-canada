dataset_type: ati
target_dataset: ati

title: ATI Summaries
notes: Access, upload and modify the monthly ATI Summaries and ATI Nothing to Report for your organization

template_version: 3
template_updated: TBD

portal_type: info
collection: ati


resources:
- title: ATI Summaries

  resource_name: ati
  fields:

  - datastore_id: year
    label: Year
    datastore_type: year
    excel_required: true
    excel_column_width: 13
    excel_error_formula: '{cell}>YEAR(TODAY())'

  - datastore_id: month
    label: Month (1-12)
    datastore_type: month
    excel_required: true
    excel_column_width: 18
    excel_full_text_choices: true
    choices:
      01: January
      02: February
      03: March
      04: April
      05: May
      06: June
      07: July
      08: August
      09: September
      10: October
      11: November
      12: December

  - datastore_id: request_number
    label: Request Number
    datastore_type: text
    excel_column_width: 38

  - datastore_id: summary_en
    label: English Summary
    datastore_type: text
    excel_required: true
    excel_column_width: 41

  - datastore_id: summary_fr
    label: French Summary
    datastore_type: text
    excel_required: true
    excel_column_width: 41

  - datastore_id: disposition
    label: Disposition
    datastore_type: text
    excel_required: true
    excel_column_width: 39
    excel_full_text_choices: true
    choices:
      DA:
        en: All disclosed
        fr: Communication totale
      DP:
        en: Disclosed in part
        fr: Communication partielle
      EX:
        en: All exempted
        fr: Exception totale
      EC:
        en: All excluded
        fr: Exclusion totale
      NE:
        en: No records exist
        fr: Aucun document n’existe
      RT:
        en: Request transferred
        fr: Demande transmise
      RA:
        en: Request abandoned
        fr: Demande abandonnée
      NC:
        en: Neither confirmed nor denied
        fr: Ni confirmée ni infirmée

  - datastore_id: pages
    label: Number of Pages
    datastore_type: int
    excel_column_width: 34

  datastore_primary_key: request_number
  datastore_indexes: ""
  excel_organization_style:
    PatternFill:
      patternType: solid
      fgColor: FF3f6c45
    Font:
      color: FFFFFF
      size: 14
  excel_header_style:
    PatternFill:
      patternType: solid
      fgColor: FFeeece1
  default_preview_sort: year desc, month desc

  examples:
    record:
      disposition: Disclosed in part / Communication partielle
      summary_fr: Copies des rapports de vérification et d’évaluation
                  du système de gestion de la sécurité
      month: 10
      request_number: A-2013-00516
      summary_en: Copies of the Safety Management System Audit and
                  Evaluation Reports
      year: 2014
      pages: 779
    filters:
      month: 10
      year: 2014
    filter_one:
      request_number: A-2013-00516
    sort: year desc, month desc

  # copy UMD Number field into output CSV for external ATI system
  csv_org_extras:
    - umd_number


- title: ATI Nothing to Report

  resource_name: ati-nil
  fields:

  - datastore_id: year
    label: Year
    datastore_type: year
    excel_column_width: 5
    excel_error_formula: '{cell}>YEAR(TODAY())'

  - datastore_id: month
    label: Month
    datastore_type: month
    excel_column_width: 4
    choices:
      01: January
      02: February
      03: March
      04: April
      05: May
      06: June
      07: July
      08: August
      09: September
      10: October
      11: November
      12: December

  datastore_primary_key: [year, month]
  datastore_indexes: ""
  excel_organization_style:
    PatternFill:
      patternType: solid
      fgColor: FF3f6c45
    Font:
      color: FFFFFF
      size: 14
  excel_header_style:
    PatternFill:
      patternType: solid
      fgColor: FFeeece1
  default_preview_sort: year desc, month desc

  examples:
    record:
      month: 10
      year: 2014
    filters:
      year: 2014
    filter_one:
      month: 10
      year: 2014
    sort: year desc, month desc
